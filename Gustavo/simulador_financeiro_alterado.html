<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulador Financeiro - MoranTech</title>
    <link rel="stylesheet" href="Simulador.css" />
  </head>
  <body>
    <h1>Simulador Financeiro MoranTech</h1>
    <p>
      Como sabemos, um dos principais fatores para o desperdício/perda do
      morango é a falta do controle e monitoramento de temperatura e umidade da
      fruta.
    </p>
    <p>A média desperdício gira em torno de 30% da quantidade total.</p>
    <p>
      O objetivo da Morantech é reduzir esse desperdício a 5% e aumentar os
      ganhos de sua empresa.
    </p>

    <h4>
      Preencha os campos abaixo e veja a diferença da tecnologia Morantech no
      seu negócio!
    </h4>

    Insira a quantidade de morango transportado (Kg):
    <input id="input_qtdMorangoKg" /><br />
    Digite o preço pelo Kg do morango:
    <input id="input_valorMorango" /><br />
    Insira sua porcentagem estimada de perda:
    <input
      type="number"
      min="1"
      max="100"
      id="input_porcEstimadaCliente"
    /><span class="asterisco"
      >*
      <span class="texto">
        *Caso não insira o valor de porcentagem, vamos considerar a média de
        30%.
      </span>
    </span>

    <br />
    <button onclick="simule()">Simular</button>

    <p id="p_respostas"></p>
  </body>
</html>

<script>
  function simule() {
    var qtdMorangoKg = Number(input_qtdMorangoKg.value);
    var precoMorangoKg = Number(input_valorMorango.value);
    var porcDesperdicioCliente = input_porcEstimadaCliente.value;
    var porcDesperdicioMedia = 30;

    if (porcDesperdicioCliente != "") {
      porcDesperdicioMedia = Number(porcDesperdicioCliente);
    }

    if (qtdMorangoKg <= 0) {
      alert("Por favor, digite uma quantidade de Kg válida!");
    }

    if (precoMorangoKg <= 0) {
      alert("Por favor, digite um preço válido!");
    }

    if (porcDesperdicioMedia <= 5 && porcDesperdicioMedia > 100) {
      alert("Por favor, digite uma porcentagem válida!");
    }

    // CÁLCULO SEM MORANTECH
    var precoTotalMorango = qtdMorangoKg * precoMorangoKg;
    var perdaKgMorango = qtdMorangoKg * (porcDesperdicioMedia / 100);
    var perdaPorcRenda = precoTotalMorango * (porcDesperdicioMedia / 100);
    var lucroTotal = precoTotalMorango - perdaPorcRenda;

    // CÁLCULO COM MORANTECH
    var economiaKgMorango = perdaKgMorango - qtdMorangoKg * 0.05;
    var lucroTotalMoranthec = precoTotalMorango * 0.95;
    var diferencaRendaMortanthec = lucroTotalMoranthec - lucroTotal;

    p_respostas.innerHTML = `Transportando <b>${qtdMorangoKg} kg</b> de morango no preço de <b>R$${precoMorangoKg}</b> o Kg, você teria: <br> <br>
      
      <b>SEM MORANTECH</b> <br>
      Perda de <b style="color: red">${perdaKgMorango}</b> Kg de morangos; <br>
      <b style="color: red">R$ ${perdaPorcRenda}</b> perdidos; <br>
      <b style="color: red">R$ ${lucroTotal}</b> a receber no total. <br> <br>
      
      <b>COM MORANTECH</b> <br>
      <b style="color: green">${economiaKgMorango}</b> kg deixariam de ser perdidos; <br>
      <b style="color: green">R$ ${diferencaRendaMortanthec}</b> seriam economizados; <br>
      <b style="color: green">R$ ${lucroTotalMoranthec}</b> a receber no total. <br>`;
  }
</script>
